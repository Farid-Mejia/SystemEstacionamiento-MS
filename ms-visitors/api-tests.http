### MS-Visitors API Testing
### Este archivo contiene ejemplos de peticiones HTTP para probar el microservicio

### Variables
@baseUrl = http://localhost:8000
@token = tu_token_jwt_aqui

### ====================
### 1. LOGIN (desde ms-users) - Obtener Token
### ====================
POST {{baseUrl}}/api/users/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}

### ====================
### 2. GET - Obtener visitante por DNI
### ====================
GET {{baseUrl}}/api/visitors/dni/12345678
Authorization: Bearer {{token}}

### ====================
### 3. GET - Obtener todos los visitantes
### ====================
GET {{baseUrl}}/api/visitors
Authorization: Bearer {{token}}

### ====================
### 4. POST - Crear nuevo visitante
### ====================
POST {{baseUrl}}/api/visitors
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "dni": "12345678",
  "firstName": "Juan",
  "paternalLastName": "Pérez",
  "maternalLastName": "García"
}

### ====================
### 5. POST - Crear otro visitante
### ====================
POST {{baseUrl}}/api/visitors
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "dni": "87654321",
  "firstName": "María",
  "paternalLastName": "López",
  "maternalLastName": "Martínez"
}

### ====================
### 6. PUT - Actualizar visitante
### ====================
PUT {{baseUrl}}/api/visitors/1
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "dni": "12345678",
  "firstName": "Juan Carlos",
  "paternalLastName": "Pérez",
  "maternalLastName": "García"
}

### ====================
### 7. DELETE - Eliminar visitante (solo ADMIN)
### ====================
DELETE {{baseUrl}}/api/visitors/1
Authorization: Bearer {{token}}

### ====================
### TESTS SIN TOKEN (debe retornar 401)
### ====================

### Sin token - debe fallar
GET {{baseUrl}}/api/visitors/dni/12345678

### Token inválido - debe fallar
GET {{baseUrl}}/api/visitors/dni/12345678
Authorization: Bearer token_invalido
